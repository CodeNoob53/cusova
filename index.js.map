{"version":3,"file":"index.js","sources":["../src/partials/home-page.html?raw","../src/partials/favorites-page.html?raw","../src/partials/hero.html?raw","../src/partials/filters.html?raw","../src/partials/quote.html?raw","../src/partials/sidebar-image.html?raw","../src/partials/info-card.html?raw","../src/js/router.js","../src/js/api.js","../src/partials/exercise-card.html?raw","../src/partials/category-card.html?raw","../src/partials/favorite-card.html?raw","../src/partials/favorites-empty.html?raw","../src/partials/pagination.html?raw","../src/js/dom.js","../src/js/pagination.js","../src/js/modal.js","../src/js/quote.js","../src/js/favorites.js","../src/js/home.js","../src/js/nav.js","../src/main.js"],"sourcesContent":["export default \"<load src=\\\"partials/hero.html\\\" />\\r\\n\\r\\n<div>\\r\\n  <load src=\\\"partials/filters.html\\\" />\\r\\n\\r\\n  <div class=\\\"main-content\\\">\\r\\n    <aside class=\\\"sidebar\\\">\\r\\n      <load src=\\\"partials/quote.html\\\" />\\r\\n      <load src=\\\"partials/sidebar-image.html\\\" />\\r\\n      <load src=\\\"partials/info-card.html\\\" />\\r\\n    </aside>\\r\\n\\r\\n    <section class=\\\"content-area\\\">\\r\\n      <section id=\\\"exercises-container\\\" aria-live=\\\"polite\\\" aria-busy=\\\"false\\\">\\r\\n        <ul class=\\\"categories-grid\\\">\\r\\n          <li class=\\\"category-skeleton skeleton-shimmer\\\"></li>\\r\\n          <li class=\\\"category-skeleton skeleton-shimmer\\\"></li>\\r\\n          <li class=\\\"category-skeleton skeleton-shimmer\\\"></li>\\r\\n          <li class=\\\"category-skeleton skeleton-shimmer\\\"></li>\\r\\n          <li class=\\\"category-skeleton skeleton-shimmer\\\"></li>\\r\\n          <li class=\\\"category-skeleton skeleton-shimmer\\\"></li>\\r\\n          <li class=\\\"category-skeleton skeleton-shimmer\\\"></li>\\r\\n          <li class=\\\"category-skeleton skeleton-shimmer\\\"></li>\\r\\n          <li class=\\\"category-skeleton skeleton-shimmer\\\"></li>\\r\\n          <li class=\\\"category-skeleton skeleton-shimmer\\\"></li>\\r\\n          <li class=\\\"category-skeleton skeleton-shimmer\\\"></li>\\r\\n          <li class=\\\"category-skeleton skeleton-shimmer\\\"></li>\\r\\n        </ul>\\r\\n      </section>\\r\\n      <nav id=\\\"pagination-container\\\" aria-label=\\\"Pagination\\\" role=\\\"navigation\\\">\\r\\n        <!-- Pagination will be injected here -->\\r\\n      </nav>\\r\\n    </section>\\r\\n  </div>\\r\\n</div>\\r\\n\"","export default \"<section class=\\\"favorites-page section\\\">\\r\\n  <div class=\\\"container favorites-container-wrapper\\\">\\r\\n    \\r\\n    <div class=\\\"favorites-content-wrapper\\\">\\r\\n      <!-- Left side: Quote + Info + Image -->\\r\\n      <aside class=\\\"favorites-aside\\\">\\r\\n         <load src=\\\"partials/quote.html\\\" />\\r\\n         \\r\\n         <div class=\\\"favorites-aside-bottom\\\">\\r\\n            <!-- Simplified inline Info Card for Favorites -->\\r\\n            <div class=\\\"info-card favorites-info-card\\\">\\r\\n              <div class=\\\"info-header\\\">\\r\\n                <span class=\\\"info-icon\\\">\\r\\n                  <svg width=\\\"20\\\" height=\\\"20\\\" aria-hidden=\\\"true\\\">\\r\\n                    <use href=\\\"#icon-info\\\"></use>\\r\\n                  </svg>\\r\\n                </span>\\r\\n                <div class=\\\"info-content\\\">\\r\\n                  <div class=\\\"info-time\\\">\\r\\n                    <div class=\\\"info-time-value\\\">110 min</div>\\r\\n                    <div class=\\\"info-time-label\\\">Daily norm of sports</div>\\r\\n                  </div>\\r\\n                  <!-- No text paragraph here for favorites -->\\r\\n                </div>\\r\\n              </div>\\r\\n            </div>\\r\\n            <!-- Sidebar Image (Inline for Favorites specific styles) -->\\r\\n            <div class=\\\"favorites-sidebar-image\\\">\\r\\n              <picture>\\r\\n                <!-- Mobile: до 767px -->\\r\\n                <source\\r\\n                  media=\\\"(max-width: 767px)\\\"\\r\\n                  type=\\\"image/avif\\\"\\r\\n                  srcset=\\\"\\r\\n                    ./img/avif/mobile_fav_sitebar_img.avif 1x,\\r\\n                    ./img/avif/mobile_fav_sitebar_img@2x.avif 2x,\\r\\n                    ./img/avif/mobile_fav_sitebar_img@3x.avif 3x\\r\\n                  \\\"\\r\\n                />\\r\\n                <source\\r\\n                  media=\\\"(max-width: 767px)\\\"\\r\\n                  type=\\\"image/jpeg\\\"\\r\\n                  srcset=\\\"\\r\\n                    ./img/mobile_fav_sitebar_img.jpg 1x,\\r\\n                    ./img/mobile_fav_sitebar_img@2x.jpg 2x,\\r\\n                    ./img/mobile_fav_sitebar_img@3x.jpg 3x\\r\\n                  \\\"\\r\\n                />\\r\\n\\r\\n                <!-- Tablet: 768px - 1279px -->\\r\\n                <source\\r\\n                  media=\\\"(min-width: 768px) and (max-width: 1279px)\\\"\\r\\n                  type=\\\"image/avif\\\"\\r\\n                  srcset=\\\"\\r\\n                    ./img/avif/tab_fav_sitebar_img.avif 1x,\\r\\n                    ./img/avif/tab_fav_sitebar_img@2x.avif 2x,\\r\\n                    ./img/avif/tab_fav_sitebar_img@3x.avif 3x\\r\\n                  \\\"\\r\\n                />\\r\\n                <source\\r\\n                  media=\\\"(min-width: 768px) and (max-width: 1279px)\\\"\\r\\n                  type=\\\"image/jpeg\\\"\\r\\n                  srcset=\\\"\\r\\n                    ./img/tab_fav_sitebar_img.jpg 1x,\\r\\n                    ./img/tab_fav_sitebar_img@2x.jpg 2x,\\r\\n                    ./img/tab_fav_sitebar_img@3x.jpg 3x\\r\\n                  \\\"\\r\\n                />\\r\\n\\r\\n                <!-- Desktop: від 1280px -->\\r\\n                <source\\r\\n                  media=\\\"(min-width: 1280px)\\\"\\r\\n                  type=\\\"image/avif\\\"\\r\\n                  srcset=\\\"\\r\\n                    ./img/avif/desc_fav_sitebar_img.avif 1x,\\r\\n                    ./img/avif/desc_fav_sitebar_img@2x.avif 2x,\\r\\n                    ./img/avif/desc_fav_sitebar_img@3x.avif 3x\\r\\n                  \\\"\\r\\n                />\\r\\n                <source\\r\\n                  media=\\\"(min-width: 1280px)\\\"\\r\\n                  type=\\\"image/jpeg\\\"\\r\\n                  srcset=\\\"\\r\\n                    ./img/desc_fav_sitebar_img.jpg 1x,\\r\\n                    ./img/desc_fav_sitebar_img@2x.jpg 2x,\\r\\n                    ./img/desc_fav_sitebar_img@3x.jpg 3x\\r\\n                  \\\"\\r\\n                />\\r\\n\\r\\n                <img src=\\\"./img/desc_fav_sitebar_img.jpg\\\" alt=\\\"Women doing sports\\\" class=\\\"sidebar-image\\\" width=\\\"335\\\" height=\\\"571\\\" loading=\\\"lazy\\\" />\\r\\n              </picture>\\r\\n            </div>\\r\\n         </div>\\r\\n      </aside>\\r\\n\\r\\n      <!-- Right side: Favorites List -->\\r\\n      <div class=\\\"favorites-list-container\\\">\\r\\n        <!-- Title \\\"Favorites\\\" is now part of the structure or can be outside? \\r\\n             Design shows \\\"Favorites\\\" above the list? No, \\\"Favorites\\\" title is top left of the PAGE.\\r\\n             Wait, looking at Screenshot 2:\\r\\n             Row 1: Title \\\"Favorites\\\"\\r\\n             Row 2: Left Col (Quote...), Right Col (List)\\r\\n             So Title should be OUTSIDE the wrapper if it spans width, OR inside the wrapper if it aligns with something.\\r\\n             Let's put Title above the wrapper.\\r\\n        -->\\r\\n         <h2 class=\\\"section-title\\\">Favorites</h2>\\r\\n         \\r\\n        <section id=\\\"favorites-container\\\" class=\\\"favorites-list\\\" aria-live=\\\"polite\\\" aria-busy=\\\"false\\\">\\r\\n          <!-- Favorite cards will be rendered here -->\\r\\n        </section>\\r\\n      </div>\\r\\n    </div>\\r\\n  </div>\\r\\n</section>\\r\\n\"","export default \"<section class=\\\"hero-wrapper\\\">\\r\\n  <div class=\\\"hero\\\">\\r\\n    <div class=\\\"hero-content\\\">\\r\\n      <div class=\\\"hero-title-wrapper\\\">\\r\\n        <img src=\\\"./img/star-icon.svg\\\" alt=\\\"\\\" class=\\\"hero-star-icon\\\" />\\r\\n        <h1 class=\\\"hero-title\\\">Get <span class=\\\"accent-text\\\">Body</span> in shape, Stay healthy</h1>\\r\\n      </div>\\r\\n      <p class=\\\"hero-description\\\">\\r\\n        Transform your physique and embrace a healthier lifestyle with our comprehensive fitness and\\r\\n        nutrition support.\\r\\n      </p>\\r\\n    </div>\\r\\n    <div class=\\\"hero-right\\\">\\r\\n      <picture>\\r\\n        <!-- Desktop: від 1280px (на mobile та tablet hero-right не відображається) -->\\r\\n        <source\\r\\n          type=\\\"image/avif\\\"\\r\\n          srcset=\\\"\\r\\n            ./img/avif/desc_hero_on_tag.avif 1x,\\r\\n            ./img/avif/desc_hero_on_tag@2x.avif 2x,\\r\\n            ./img/avif/desc_hero_on_tag@3x.avif 3x\\r\\n          \\\"\\r\\n        />\\r\\n        <source\\r\\n          type=\\\"image/jpeg\\\"\\r\\n          srcset=\\\"\\r\\n            ./img/desc_hero_on_tag.jpg 1x,\\r\\n            ./img/desc_hero_on_tag@2x.jpg 2x,\\r\\n            ./img/desc_hero_on_tag@3x.jpg 3x\\r\\n          \\\"\\r\\n        />\\r\\n\\r\\n        <img\\r\\n          src=\\\"./img/desc_hero_on_tag.jpg\\\"\\r\\n          alt=\\\"Workout\\\"\\r\\n          class=\\\"hero-img-small\\\"\\r\\n          width=\\\"168\\\"\\r\\n          height=\\\"100\\\"\\r\\n          loading=\\\"lazy\\\"\\r\\n        />\\r\\n      </picture>\\r\\n      <div class=\\\"hero-tags\\\">\\r\\n        <div class=\\\"hero-tag-line\\\">\\r\\n          <span class=\\\"tag\\\">#Sport</span>\\r\\n          <span class=\\\"tag\\\">#Healthy</span>\\r\\n        </div>\\r\\n        <div class=\\\"hero-tag-line\\\">\\r\\n          <span class=\\\"tag\\\">#Workout</span>\\r\\n          <span class=\\\"tag\\\">#Diet</span>\\r\\n        </div>\\r\\n      </div>\\r\\n    </div>\\r\\n  </div>\\r\\n  <div class=\\\"hero-image-wrapper\\\">\\r\\n    <picture>\\r\\n      <!-- Mobile: до 767px -->\\r\\n      <source\\r\\n        media=\\\"(max-width: 767px)\\\"\\r\\n        type=\\\"image/avif\\\"\\r\\n        srcset=\\\"\\r\\n          ./img/avif/mobile_hero_main.avif 1x,\\r\\n          ./img/avif/mobile_hero_main@2x.avif 2x,\\r\\n          ./img/avif/mobile_hero_main@3x.avif 3x\\r\\n        \\\"\\r\\n      />\\r\\n      <source\\r\\n        media=\\\"(max-width: 767px)\\\"\\r\\n        type=\\\"image/jpeg\\\"\\r\\n        srcset=\\\"\\r\\n          ./img/mobile_hero_main.jpg 1x,\\r\\n          ./img/mobile_hero_main@2x.jpg 2x,\\r\\n          ./img/mobile_hero_main@3x.jpg 3x\\r\\n        \\\"\\r\\n      />\\r\\n\\r\\n      <!-- Tablet: 768px - 1279px -->\\r\\n      <source\\r\\n        media=\\\"(min-width: 768px) and (max-width: 1279px)\\\"\\r\\n        type=\\\"image/avif\\\"\\r\\n        srcset=\\\"\\r\\n          ./img/avif/tab_hero_main.avif 1x,\\r\\n          ./img/avif/tab_hero_main@2x.avif 2x,\\r\\n          ./img/avif/tab_hero_main@3x.avif 3x\\r\\n        \\\"\\r\\n      />\\r\\n      <source\\r\\n        media=\\\"(min-width: 768px) and (max-width: 1279px)\\\"\\r\\n        type=\\\"image/jpeg\\\"\\r\\n        srcset=\\\"\\r\\n          ./img/tab_hero_main.jpg 1x,\\r\\n          ./img/tab_hero_main@2x.jpg 2x,\\r\\n          ./img/tab_hero_main@3x.jpg 3x\\r\\n        \\\"\\r\\n      />\\r\\n\\r\\n      <!-- Desktop: від 1280px -->\\r\\n      <source\\r\\n        media=\\\"(min-width: 1280px)\\\"\\r\\n        type=\\\"image/avif\\\"\\r\\n        srcset=\\\"\\r\\n          ./img/avif/desc_hero_main.avif 1x,\\r\\n          ./img/avif/desc_hero_main@2x.avif 2x,\\r\\n          ./img/avif/desc_hero_main@3x.avif 3x\\r\\n        \\\"\\r\\n      />\\r\\n      <source\\r\\n        media=\\\"(min-width: 1280px)\\\"\\r\\n        type=\\\"image/jpeg\\\"\\r\\n        srcset=\\\"\\r\\n          ./img/desc_hero_main.jpg 1x,\\r\\n          ./img/desc_hero_main@2x.jpg 2x,\\r\\n          ./img/desc_hero_main@3x.jpg 3x\\r\\n        \\\"\\r\\n      />\\r\\n\\r\\n      <img\\r\\n        src=\\\"./img/desc_hero_main.jpg\\\"\\r\\n        alt=\\\"Working out together\\\"\\r\\n        class=\\\"hero-img-large\\\"\\r\\n        width=\\\"1376\\\"\\r\\n        height=\\\"574\\\"\\r\\n        loading=\\\"eager\\\"\\r\\n        fetchpriority=\\\"high\\\"\\r\\n      />\\r\\n    </picture>\\r\\n  </div>\\r\\n</section>\\r\\n\"","export default \"<section class=\\\"filters-section\\\">\\n  <div class=\\\"filters-header\\\">\\n    <h2 class=\\\"section-title\\\" id=\\\"section-title\\\">Exercises</h2>\\n    <div class=\\\"filters-controls\\\">\\n      <form id=\\\"exercise-search-form\\\" class=\\\"exercise-search-form hidden\\\">\\n        <input\\n          type=\\\"text\\\"\\n          id=\\\"exercise-search-input\\\"\\n          class=\\\"exercise-search-input\\\"\\n          placeholder=\\\"Search\\\"\\n          aria-label=\\\"Search exercises\\\"\\n        />\\n        <button type=\\\"button\\\" class=\\\"exercise-clear-btn hidden\\\" id=\\\"exercise-clear-btn\\\" aria-label=\\\"Clear search\\\">\\n          <svg width=\\\"18\\\" height=\\\"18\\\" aria-hidden=\\\"true\\\" fill=\\\"none\\\" xmlns=\\\"http://www.w3.org/2000/svg\\\">\\n            <use href=\\\"#icon-close\\\"></use>\\n          </svg>\\n        </button>\\n        <button type=\\\"submit\\\" class=\\\"exercise-search-btn\\\" aria-label=\\\"Search\\\">\\n          <svg width=\\\"18\\\" height=\\\"18\\\" aria-hidden=\\\"true\\\" fill=\\\"none\\\" xmlns=\\\"http://www.w3.org/2000/svg\\\">\\n            <use href=\\\"#icon-search\\\"></use>\\n          </svg>\\n        </button>\\n      </form>\\n      <div id=\\\"filter-tabs\\\" class=\\\"filter-tabs\\\">\\n        <button class=\\\"filter-tab active\\\" data-filter=\\\"Muscles\\\">Muscles</button>\\n        <button class=\\\"filter-tab\\\" data-filter=\\\"Body parts\\\">Body parts</button>\\n        <button class=\\\"filter-tab\\\" data-filter=\\\"Equipment\\\">Equipment</button>\\n      </div>\\n    </div>\\n  </div>\\n</section>\\n\"","export default \"<div class=\\\"quote-card\\\">\\n  <div class=\\\"quote-header\\\">\\n    <span class=\\\"quote-icon\\\">\\n      <svg width=\\\"20\\\" height=\\\"20\\\" aria-hidden=\\\"true\\\">\\n        <use href=\\\"#icon-quote\\\"></use>\\n      </svg>\\n    </span>\\n    <div class=\\\"quote-content\\\">\\n      <h3 class=\\\"quote-title\\\">Quote of the day</h3>\\n      <p id=\\\"quote-text\\\" class=\\\"quote-text\\\">\\n        A lot of times I find that people who are blessed with the most talent don't ever develop\\n        that attitude, and the ones who aren't blessed in that way are the most competitive and have\\n        the biggest heart.\\n      </p>\\n    </div>\\n  </div>\\n  <p id=\\\"quote-author\\\" class=\\\"quote-author\\\">Tom Brady</p>\\n</div>\\n\"","export default \"<div class=\\\"sidebar-image-card\\\">\\r\\n  <picture>\\r\\n    <!-- Mobile: до 767px -->\\r\\n    <source\\r\\n      media=\\\"(max-width: 767px)\\\"\\r\\n      type=\\\"image/avif\\\"\\r\\n      srcset=\\\"\\r\\n        ./img/avif/mobile_sitebar_img.avif 1x,\\r\\n        ./img/avif/mobile_sitebar_img@2x.avif 2x,\\r\\n        ./img/avif/mobile_sitebar_img@3x.avif 3x\\r\\n      \\\"\\r\\n    />\\r\\n    <source\\r\\n      media=\\\"(max-width: 767px)\\\"\\r\\n      type=\\\"image/jpeg\\\"\\r\\n      srcset=\\\"\\r\\n        ./img/mobile_sitebar_img.jpg 1x,\\r\\n        ./img/mobile_sitebar_img@2x.jpg 2x,\\r\\n        ./img/mobile_sitebar_img@3x.jpg 3x\\r\\n      \\\"\\r\\n    />\\r\\n\\r\\n    <!-- Tablet: 768px - 1279px -->\\r\\n    <source\\r\\n      media=\\\"(min-width: 768px) and (max-width: 1279px)\\\"\\r\\n      type=\\\"image/avif\\\"\\r\\n      srcset=\\\"\\r\\n        ./img/avif/tab_sitebar_img.avif 1x,\\r\\n        ./img/avif/tab_sitebar_img@2x.avif 2x,\\r\\n        ./img/avif/tab_sitebar_img@3x.avif 3x\\r\\n      \\\"\\r\\n    />\\r\\n    <source\\r\\n      media=\\\"(min-width: 768px) and (max-width: 1279px)\\\"\\r\\n      type=\\\"image/jpeg\\\"\\r\\n      srcset=\\\"\\r\\n        ./img/tab_sitebar_img.jpg 1x,\\r\\n        ./img/tab_sitebar_img@2x.jpg 2x,\\r\\n        ./img/tab_sitebar_img@3x.jpg 3x\\r\\n      \\\"\\r\\n    />\\r\\n\\r\\n    <!-- Desktop: від 1280px -->\\r\\n    <source\\r\\n      media=\\\"(min-width: 1280px)\\\"\\r\\n      type=\\\"image/avif\\\"\\r\\n      srcset=\\\"\\r\\n        ./img/avif/desc_sitebar_img.avif 1x,\\r\\n        ./img/avif/desc_sitebar_img@2x.avif 2x,\\r\\n        ./img/avif/desc_sitebar_img@3x.avif 3x\\r\\n      \\\"\\r\\n    />\\r\\n    <source\\r\\n      media=\\\"(min-width: 1280px)\\\"\\r\\n      type=\\\"image/jpeg\\\"\\r\\n      srcset=\\\"\\r\\n        ./img/desc_sitebar_img.jpg 1x,\\r\\n        ./img/desc_sitebar_img@2x.jpg 2x,\\r\\n        ./img/desc_sitebar_img@3x.jpg 3x\\r\\n      \\\"\\r\\n    />\\r\\n\\r\\n    <img src=\\\"./img/desc_sitebar_img.jpg\\\" alt=\\\"Women doing sports\\\" class=\\\"sidebar-image\\\" width=\\\"335\\\" height=\\\"571\\\" loading=\\\"lazy\\\" />\\r\\n  </picture>\\r\\n</div>\\r\\n\"","export default \"<div class=\\\"info-card\\\">\\n  <div class=\\\"info-header\\\">\\n    <span class=\\\"info-icon\\\">\\n      <svg width=\\\"20\\\" height=\\\"20\\\" aria-hidden=\\\"true\\\">\\n        <use href=\\\"#icon-info\\\"></use>\\n      </svg>\\n    </span>\\n    <div class=\\\"info-content\\\">\\n      <div class=\\\"info-time\\\">\\n        <div class=\\\"info-time-value\\\">110 min</div>\\n        <div class=\\\"info-time-label\\\">Daily norm of sports</div>\\n      </div>\\n      <p class=\\\"info-text\\\">\\n        The World Health Organization recommends at least 150 minutes of moderate-intensity aerobic\\n        physical activity throughout the week for adults aged 18-64. However, what happens if we\\n        adjust that number to 110 minutes every day? While it might seem like a high number to hit,\\n        dedicating 110 minutes daily to sporting activities may offer unparalleled benefits to\\n        physical health, mental well-being, and overall quality of life.\\n      </p>\\n    </div>\\n  </div>\\n</div>\\n\"","import Navigo from 'navigo';\n\n// Import pages and partials as raw strings\nimport homePageHtml from '../partials/home-page.html?raw';\nimport favoritesPageHtml from '../partials/favorites-page.html?raw';\n\nimport heroHtml from '../partials/hero.html?raw';\nimport filtersHtml from '../partials/filters.html?raw';\nimport quoteHtml from '../partials/quote.html?raw';\nimport sidebarImageHtml from '../partials/sidebar-image.html?raw';\nimport infoCardHtml from '../partials/info-card.html?raw';\n\n// Initialize router\nconst router = new Navigo('/', { hash: false });\n\n// Map of view names to their raw HTML content\nconst routes = {\n  home: homePageHtml,\n  favorites: favoritesPageHtml,\n};\n\n// Map of partial paths (as used in <load src=\"...\">) to their raw HTML content\nconst partials = {\n  'partials/hero.html': heroHtml,\n  'partials/filters.html': filtersHtml,\n  'partials/quote.html': quoteHtml,\n  'partials/sidebar-image.html': sidebarImageHtml,\n  'partials/info-card.html': infoCardHtml,\n};\n\n// Process <load> tags in HTML synchronously\nfunction processLoadTags(html) {\n  const loadRegex = /<load\\s+src=\"([^\"]+)\"\\s*\\/>/g;\n  return html.replace(loadRegex, (match, src) => {\n    if (partials[src]) {\n      return partials[src];\n    }\n    console.warn(`Partial not found: ${src}`);\n    return `<!-- Failed to load ${src} -->`;\n  });\n}\n\n// Load view HTML into #app\nasync function loadView(viewName) {\n  const app = document.getElementById('app');\n  if (!app) return;\n\n  const html = routes[viewName];\n  if (!html) {\n    app.innerHTML = '<h1>Page not found</h1>';\n    return;\n  }\n\n  // Process <load> tags synchronously\n  const processedHtml = processLoadTags(html);\n\n  app.innerHTML = processedHtml;\n}\n\n// Export router instance\nexport { router, loadView };\n","import axios from 'axios';\n\nconst BASE_URL = 'https://your-energy.b.goit.study/api';\n\nconst api = axios.create({\n  baseURL: BASE_URL,\n});\n\nexport const getQuote = async () => {\n  const { data } = await api.get('/quote');\n  return data;\n};\n\nexport const getFilters = async ({ filter, page = 1, limit = 12 }) => {\n  const { data } = await api.get('/filters', {\n    params: { filter, page, limit },\n  });\n  return data;\n};\n\nexport const getExercises = async ({\n  bodypart,\n  muscles,\n  equipment,\n  keyword,\n  page = 1,\n  limit = 10,\n}) => {\n  const params = { page, limit };\n  if (bodypart) params.bodypart = bodypart;\n  if (muscles) params.muscles = muscles;\n  if (equipment) params.equipment = equipment;\n  if (keyword) params.keyword = keyword;\n\n  const { data } = await api.get('/exercises', { params });\n  return data;\n};\n\nexport const getExerciseById = async id => {\n  const { data } = await api.get(`/exercises/${id}`);\n  return data;\n};\n\nexport const updateRating = async (id, rating, email, review = '') => {\n  const body = { rate: rating, email };\n  if (review) {\n    body.review = review;\n  }\n  const { data } = await api.patch(`/exercises/${id}/rating`, body);\n  return data;\n};\n\nexport const subscribe = async email => {\n  const { data } = await api.post('/subscription', { email });\n  return data;\n};\n","export default \"<li class=\\\"exercise-card\\\" data-id=\\\"{{id}}\\\">\\r\\n  <div class=\\\"exercise-card-header\\\">\\r\\n    <div class=\\\"exercise-card-left\\\">\\r\\n      <span class=\\\"exercise-workout-badge\\\">WORKOUT</span>\\r\\n      <button class=\\\"exercise-rating-btn\\\" data-rating=\\\"{{rating}}\\\" aria-label=\\\"Rating: {{rating}} out of 5\\\">\\r\\n        {{ratingFormatted}}\\r\\n        <svg width=\\\"14\\\" height=\\\"13\\\" viewBox=\\\"0 0 14 13\\\" fill=\\\"none\\\" aria-hidden=\\\"true\\\">\\r\\n          <path\\r\\n            d=\\\"M7 0L8.5716 4.83688H13.6574L9.5429 7.82624L11.1145 12.6631L7 9.67376L2.8855 12.6631L4.4571 7.82624L0.342604 4.83688H5.4284L7 0Z\\\"\\r\\n            fill=\\\"#EEA10C\\\"\\r\\n          />\\r\\n        </svg>\\r\\n      </button>\\r\\n    </div>\\r\\n    <button class=\\\"exercise-start-btn\\\" data-id=\\\"{{id}}\\\" aria-label=\\\"Start exercise {{name}}\\\">\\r\\n      Start\\r\\n      <svg width=\\\"16\\\" height=\\\"16\\\" aria-hidden=\\\"true\\\">\\r\\n        <use href=\\\"#icon-arrow\\\"></use>\\r\\n      </svg>\\r\\n    </button>\\r\\n  </div>\\r\\n\\r\\n  <div class=\\\"exercise-card-body\\\">\\r\\n    <span class=\\\"exercise-icon\\\">\\r\\n      <svg width=\\\"16px\\\" height=\\\"16px\\\" aria-hidden=\\\"true\\\">\\r\\n        <use href=\\\"#icon-quote\\\"></use>\\r\\n      </svg>\\r\\n    </span>\\r\\n    <h3 class=\\\"exercise-card-title\\\">{{name}}</h3>\\r\\n  </div>\\r\\n\\r\\n  <ul class=\\\"exercise-card-meta\\\">\\r\\n    <li class=\\\"meta-item\\\">\\r\\n      <span class=\\\"meta-label\\\">Burned calories:</span>\\r\\n      <span class=\\\"meta-value\\\">{{burnedCalories}} / {{time}} min</span>\\r\\n    </li>\\r\\n    <li class=\\\"meta-item\\\">\\r\\n      <span class=\\\"meta-label\\\">Body part:</span>\\r\\n      <span class=\\\"meta-value\\\">{{bodyPart}}</span>\\r\\n    </li>\\r\\n    <li class=\\\"meta-item\\\">\\r\\n      <span class=\\\"meta-label\\\">Target:</span>\\r\\n      <span class=\\\"meta-value\\\">{{target}}</span>\\r\\n    </li>\\r\\n  </ul>\\r\\n</li>\\r\\n\"","export default \"<li class=\\\"category-card\\\" data-filter=\\\"{{filter}}\\\" data-name=\\\"{{name}}\\\">\\r\\n  <img src=\\\"{{imgURL}}\\\" alt=\\\"{{name}}\\\" class=\\\"category-card-bg\\\" loading=\\\"lazy\\\" />\\r\\n  <div class=\\\"category-card-overlay\\\"></div>\\r\\n  <div class=\\\"category-card-content\\\">\\r\\n    <h3 class=\\\"category-name\\\">{{name}}</h3>\\r\\n    <p class=\\\"category-filter\\\">{{filter}}</p>\\r\\n  </div>\\r\\n</li>\\r\\n\"","export default \"<li class=\\\"favorite-card\\\" data-id=\\\"{{id}}\\\">\\r\\n  <div class=\\\"favorite-card-header\\\">\\r\\n    <span class=\\\"favorite-workout-badge\\\">WORKOUT</span>\\r\\n    <button class=\\\"favorite-delete-btn\\\" data-id=\\\"{{id}}\\\" title=\\\"Remove from favorites\\\" aria-label=\\\"Remove {{name}} from favorites\\\">\\r\\n      <svg width=\\\"18\\\" height=\\\"18\\\" viewBox=\\\"0 0 18 18\\\" fill=\\\"none\\\" aria-hidden=\\\"true\\\">\\r\\n        <path\\r\\n          d=\\\"M4.5 4.5L13.5 13.5M4.5 13.5L13.5 4.5\\\"\\r\\n          stroke=\\\"currentColor\\\"\\r\\n          stroke-width=\\\"1.5\\\"\\r\\n          stroke-linecap=\\\"round\\\"\\r\\n        />\\r\\n      </svg>\\r\\n    </button>\\r\\n  </div>\\r\\n\\r\\n  <div class=\\\"favorite-card-body\\\">\\r\\n    <div class=\\\"favorite-card-icon\\\" aria-hidden=\\\"true\\\">\\r\\n      <svg width=\\\"24\\\" height=\\\"24\\\" viewBox=\\\"0 0 24 24\\\" fill=\\\"none\\\">\\r\\n        <path\\r\\n          d=\\\"M12 2L15.09 8.26L22 9.27L17 14.14L18.18 21.02L12 17.77L5.82 21.02L7 14.14L2 9.27L8.91 8.26L12 2Z\\\"\\r\\n          fill=\\\"#EEA10C\\\"\\r\\n        />\\r\\n      </svg>\\r\\n    </div>\\r\\n    <button class=\\\"favorite-start-btn\\\" data-id=\\\"{{id}}\\\" aria-label=\\\"Start exercise {{name}}\\\">\\r\\n      Start\\r\\n      <svg width=\\\"16\\\" height=\\\"16\\\" viewBox=\\\"0 0 16 16\\\" fill=\\\"none\\\" aria-hidden=\\\"true\\\">\\r\\n        <path\\r\\n          d=\\\"M5 12L10 7L5 2\\\"\\r\\n          stroke=\\\"currentColor\\\"\\r\\n          stroke-width=\\\"1.5\\\"\\r\\n          stroke-linecap=\\\"round\\\"\\r\\n          stroke-linejoin=\\\"round\\\"\\r\\n        />\\r\\n      </svg>\\r\\n    </button>\\r\\n  </div>\\r\\n\\r\\n  <div class=\\\"favorite-card-content\\\">\\r\\n    <h3 class=\\\"favorite-card-title\\\">{{name}}</h3>\\r\\n\\r\\n    <ul class=\\\"favorite-card-meta\\\">\\r\\n      <li class=\\\"meta-row\\\">\\r\\n        <span class=\\\"meta-label\\\">Burned calories:</span>\\r\\n        <span class=\\\"meta-value\\\">{{burnedCalories}} / 3 min</span>\\r\\n      </li>\\r\\n      <li class=\\\"meta-row\\\">\\r\\n        <span class=\\\"meta-label\\\">Body part:</span>\\r\\n        <span class=\\\"meta-value\\\">{{bodyPart}}</span>\\r\\n      </li>\\r\\n      <li class=\\\"meta-row\\\">\\r\\n        <span class=\\\"meta-label\\\">Target:</span>\\r\\n        <span class=\\\"meta-value\\\">{{target}}</span>\\r\\n      </li>\\r\\n    </ul>\\r\\n  </div>\\r\\n</li>\\r\\n\"","export default \"<div class=\\\"favorites-empty\\\">\\n  <p class=\\\"favorites-empty-text\\\">\\n    It appears that you haven't added any exercises to your favorites yet. To get started, you can\\n    add exercises that you like to your favorites for easier access in the future.\\n  </p>\\n</div>\\n\"","export default \"<div class=\\\"pagination\\\">\\n  <div class=\\\"pagination-btns\\\">\\n    <button class=\\\"pagination-btn pagination-first\\\" data-page=\\\"1\\\" aria-label=\\\"First page\\\">\\n      <svg width=\\\"13\\\" height=\\\"12\\\" class=\\\"pagination-icon flip\\\">\\n        <use href=\\\"#icon-double-arrow-right\\\"></use>\\n      </svg>\\n    </button>\\n    <button class=\\\"pagination-btn pagination-prev\\\" aria-label=\\\"Previous page\\\">\\n      <svg width=\\\"20\\\" height=\\\"20\\\" class=\\\"pagination-icon flip\\\">\\n        <use href=\\\"#icon-arrow-right\\\"></use>\\n      </svg>\\n    </button>\\n  </div>\\n  <div class=\\\"pagination-nbrs\\\"></div>\\n  <div class=\\\"pagination-btns\\\">\\n    <button class=\\\"pagination-btn pagination-next\\\" aria-label=\\\"Next page\\\">\\n      <svg width=\\\"20\\\" height=\\\"20\\\" class=\\\"pagination-icon\\\">\\n        <use href=\\\"#icon-arrow-right\\\"></use>\\n      </svg>\\n    </button>\\n    <button class=\\\"pagination-btn pagination-last\\\" aria-label=\\\"Last page\\\">\\n      <svg width=\\\"13\\\" height=\\\"12\\\" class=\\\"pagination-icon\\\">\\n        <use href=\\\"#icon-double-arrow-right\\\"></use>\\n      </svg>\\n    </button>\\n  </div>\\n</div>\\n\"","// Import templates as raw strings\r\nimport exerciseCardTemplate from '../partials/exercise-card.html?raw';\r\nimport categoryCardTemplate from '../partials/category-card.html?raw';\r\nimport favoriteCardTemplate from '../partials/favorite-card.html?raw';\r\nimport favoritesEmptyTemplate from '../partials/favorites-empty.html?raw';\r\nimport paginationTemplate from '../partials/pagination.html?raw';\r\n\r\n// Map of template names to raw HTML\r\nconst templates = {\r\n  'exercise-card': exerciseCardTemplate,\r\n  'category-card': categoryCardTemplate,\r\n  'favorite-card': favoriteCardTemplate,\r\n  'favorites-empty': favoritesEmptyTemplate,\r\n  'pagination': paginationTemplate,\r\n};\r\n\r\n// Cache for loaded templates (kept for backward compatibility, though not strictly needed with imports)\r\nconst templateCache = { ...templates };\r\n\r\n/**\r\n * Load template from bundled imports\r\n * @param {string} templateName\r\n * @returns {Promise<string>}\r\n */\r\nexport const loadTemplate = async templateName => {\r\n  if (templateCache[templateName]) {\r\n    return templateCache[templateName];\r\n  }\r\n\r\n  console.warn(`Template not found in bundle: ${templateName}`);\r\n  return '';\r\n};\r\n\r\n/**\r\n * Replace placeholders in template with data\r\n * @param {string} template\r\n * @param {object} data\r\n * @returns {string}\r\n */\r\nexport const replacePlaceholders = (template, data) => {\r\n  return template.replace(/\\{\\{(\\w+)\\}\\}/g, (_match, key) => {\r\n    return data[key] !== undefined ? data[key] : '';\r\n  });\r\n};\r\n\r\nexport const renderQuote = quoteData => {\r\n  const quoteText = document.getElementById('quote-text');\r\n  const quoteAuthor = document.getElementById('quote-author');\r\n\r\n  if (quoteText && quoteData.quote) {\r\n    quoteText.textContent = quoteData.quote;\r\n  }\r\n  if (quoteAuthor && quoteData.author) {\r\n    quoteAuthor.textContent = quoteData.author;\r\n  }\r\n};\r\n\r\nexport const renderExercises = async (exercises, containerId) => {\r\n  const container = document.getElementById(containerId);\r\n  if (!container) return;\r\n\r\n  if (exercises.length === 0) {\r\n    container.innerHTML = '<p class=\"no-results\">No exercises found. Try another filter.</p>';\r\n    return;\r\n  }\r\n\r\n  const template = await loadTemplate('exercise-card');\r\n\r\n  const exercisesHtml = exercises\r\n    .map(exercise => {\r\n      return replacePlaceholders(template, {\r\n        id: exercise._id,\r\n        rating: exercise.rating || 0,\r\n        ratingFormatted: exercise.rating ? exercise.rating.toFixed(1) : '0.0',\r\n        name: exercise.name,\r\n        burnedCalories: exercise.burnedCalories || 0,\r\n        time: exercise.time || 0,\r\n        bodyPart: exercise.bodyPart || 'N/A',\r\n        target: exercise.target || 'N/A',\r\n      });\r\n    })\r\n    .join('');\r\n\r\n  container.innerHTML = `<ul class=\"exercises-grid\">${exercisesHtml}</ul>`;\r\n};\r\n\r\nexport const renderCategories = async (categories, containerId) => {\r\n  const container = document.getElementById(containerId);\r\n  if (!container) return;\r\n\r\n  if (categories.length === 0) {\r\n    container.innerHTML = '<p class=\"no-results\">No categories found.</p>';\r\n    return;\r\n  }\r\n\r\n  const template = await loadTemplate('category-card');\r\n\r\n  const categoriesHtml = categories\r\n    .map(cat => {\r\n      return replacePlaceholders(template, {\r\n        filter: cat.filter,\r\n        name: cat.name,\r\n        imgURL: cat.imgURL || '',\r\n      });\r\n    })\r\n    .join('');\r\n\r\n  container.innerHTML = `<ul class=\"categories-grid\">${categoriesHtml}</ul>`;\r\n};\r\n\r\n/**\r\n * Render skeleton loaders\r\n * @param {string} view - 'categories' or 'exercises'\r\n * @param {string} containerId - ID of container element\r\n * @param {number} count - Number of skeleton items to render\r\n */\r\nexport const renderSkeleton = (view, containerId, count = 9) => {\r\n  const container = document.getElementById(containerId);\r\n  if (!container) return;\r\n\r\n  let skeletonHtml = '';\r\n\r\n  if (view === 'categories') {\r\n    skeletonHtml = Array(count)\r\n      .fill('<li class=\"category-skeleton skeleton-shimmer\"></li>')\r\n      .join('');\r\n    container.innerHTML = `<ul class=\"categories-grid\">${skeletonHtml}</ul>`;\r\n  } else {\r\n    const item = `\r\n      <li class=\"exercise-skeleton\">\r\n        <div class=\"shimmer-header\">\r\n           <div class=\"shimmer-badge skeleton-shimmer\"></div>\r\n           <div class=\"shimmer-badge skeleton-shimmer\"></div>\r\n        </div>\r\n        <div class=\"shimmer-title skeleton-shimmer\"></div>\r\n        <div class=\"shimmer-line skeleton-shimmer\"></div>\r\n        <div class=\"shimmer-line skeleton-shimmer\"></div>\r\n      </li>\r\n    `;\r\n    skeletonHtml = Array(count).fill(item).join('');\r\n    container.innerHTML = `<ul class=\"exercises-grid\">${skeletonHtml}</ul>`;\r\n  }\r\n};\r\n","/**\n * Pagination module\n * Handles pagination UI rendering and user interactions\n */\n\nimport { loadTemplate } from './dom.js';\n\n/**\n * Render pagination controls\n * @param {number} currentPage - Current page number\n * @param {number} totalPages - Total number of pages\n * @param {string} containerId - ID of container element\n */\nexport const renderPagination = async (currentPage, totalPages, containerId = 'pagination-container') => {\n  const container = document.getElementById(containerId);\n  if (!container) return;\n\n  if (totalPages <= 1) {\n    container.innerHTML = '';\n    return;\n  }\n\n  // Load template if not exists\n  if (!container.querySelector('.pagination')) {\n    const template = await loadTemplate('pagination');\n    container.innerHTML = template;\n  }\n\n  // Get navigation buttons from markup\n  const firstBtn = container.querySelector('.pagination-first');\n  const prevBtn = container.querySelector('.pagination-prev');\n  const nextBtn = container.querySelector('.pagination-next');\n  const lastBtn = container.querySelector('.pagination-last');\n  const pagesContainer = container.querySelector('.pagination-nbrs');\n\n  // Update navigation buttons state\n  firstBtn.disabled = currentPage === 1;\n  prevBtn.disabled = currentPage === 1;\n  prevBtn.dataset.page = currentPage - 1;\n\n  nextBtn.disabled = currentPage === totalPages;\n  nextBtn.dataset.page = currentPage + 1;\n  lastBtn.disabled = currentPage === totalPages;\n  lastBtn.dataset.page = totalPages;\n\n  // Generate pages array with ellipsis logic\n  const pages = generatePageNumbers(currentPage, totalPages);\n\n  // Build pages HTML\n  const pagesHtml = pages\n    .map(page => {\n      if (page === '...') {\n        return `<span class=\"pagination-dots\">...</span>`;\n      }\n      return `<button class=\"pagination-number ${page === currentPage ? 'pagination-number--active' : ''}\" data-page=\"${page}\" ${page === currentPage ? 'disabled' : ''}>${page}</button>`;\n    })\n    .join('');\n\n  pagesContainer.innerHTML = pagesHtml;\n};\n\n/**\n * Generate array of page numbers with ellipsis\n * Shows only 3 numbers: previous, current, next (without first and last)\n * @param {number} currentPage - Current page number\n * @param {number} totalPages - Total number of pages\n * @returns {Array} Array of page numbers and ellipsis\n */\nfunction generatePageNumbers(currentPage, totalPages) {\n  const pages = [];\n\n  // If 3 or fewer pages, show all\n  if (totalPages <= 3) {\n    for (let i = 1; i <= totalPages; i++) {\n      pages.push(i);\n    }\n    return pages;\n  }\n\n  // Determine which 3 numbers to show\n  let start, end;\n\n  if (currentPage === 1) {\n    // Current is first: show 1, 2, 3\n    start = 1;\n    end = 3;\n  } else if (currentPage === totalPages) {\n    // Current is last: show (last-2), (last-1), last\n    start = totalPages - 2;\n    end = totalPages;\n  } else {\n    // Current in middle: show prev, current, next\n    start = currentPage - 1;\n    end = currentPage + 1;\n  }\n\n  // Add ellipsis before if needed\n  if (start > 1) {\n    pages.push('...');\n  }\n\n  // Add the 3 page numbers\n  for (let i = start; i <= end; i++) {\n    pages.push(i);\n  }\n\n  // Add ellipsis after if needed\n  if (end < totalPages) {\n    pages.push('...');\n  }\n\n  return pages;\n}\n\n/**\n * Setup pagination event listeners\n * @param {Function} onPageChange - Callback function when page changes\n * @param {string} containerId - ID of container element\n */\nexport function setupPagination(onPageChange, containerId = 'pagination-container') {\n  const container = document.getElementById(containerId);\n  if (!container) return;\n\n  // Check if already has listener to prevent duplicates\n  if (container.dataset.listenerAttached === 'true') return;\n  container.dataset.listenerAttached = 'true';\n\n  container.addEventListener('click', e => {\n    // Check for both pagination number buttons and navigation buttons\n    const btn = e.target.closest('.pagination-number, .pagination-btn');\n\n    // Verify target element is a button\n    if (!btn) return;\n    if (btn.nodeName !== 'BUTTON' && !btn.classList.contains('pagination-number')) return;\n    if (btn.disabled || btn.classList.contains('pagination-dots')) return;\n\n    const newPage = Number(btn.dataset.page);\n    if (newPage && !isNaN(newPage)) {\n      onPageChange(newPage);\n    }\n  });\n}\n\n/**\n * Scroll to top of content area\n * @param {string} targetId - ID of element to scroll to\n */\nexport function scrollToTop(targetId = 'exercises-header') {\n  const target = document.getElementById(targetId);\n  if (target) {\n    target.scrollIntoView({ behavior: 'smooth' });\n  } else {\n    document.querySelector('.exercises-section')?.scrollIntoView({ behavior: 'smooth' });\n  }\n}\n","// Modal management functions\nexport const openModal = modalId => {\n  const modal = document.getElementById(modalId);\n  if (modal) {\n    modal.classList.add('active');\n    modal.setAttribute('aria-hidden', 'false');\n    document.body.classList.add('modal-open');\n  }\n};\n\nexport const closeModal = modalId => {\n  const modal = document.getElementById(modalId);\n  if (modal) {\n    modal.classList.remove('active');\n    modal.setAttribute('aria-hidden', 'true');\n    document.body.classList.remove('modal-open');\n  }\n};\n\n// Render exercise details in modal\nexport const renderExerciseModal = exercise => {\n  if (!exercise) return;\n\n  // Update GIF\n  const gifElement = document.getElementById('modal-exercise-gif');\n  if (gifElement) {\n    gifElement.src = exercise.gifUrl || '';\n    gifElement.alt = exercise.name || 'Exercise';\n  }\n\n  // Update title\n  const titleElement = document.getElementById('modal-exercise-title');\n  if (titleElement) {\n    titleElement.textContent = exercise.name || 'Exercise';\n  }\n\n  // Update rating\n  const ratingElement = document.getElementById('modal-exercise-rating');\n  if (ratingElement) {\n    const rating = exercise.rating || 0;\n    const fullStars = Math.floor(rating);\n\n    ratingElement.innerHTML = `\n      <span class=\"rating-value\">${rating.toFixed(1)}</span>\n      <div class=\"rating-stars\">\n        ${Array.from({ length: 5 }, (_, i) => {\n          const filled = i < fullStars ? 'filled' : '';\n          const fillColor = filled ? '#EEA10C' : 'rgba(244, 244, 244, 0.2)';\n          return `<svg class=\"star ${filled}\" width=\"18\" height=\"18\" viewBox=\"0 0 18 18\" fill=\"none\">\n            <path d=\"M9 1.5L11.3175 6.195L16.5 6.9525L12.75 10.605L13.635 15.765L9 13.3275L4.365 15.765L5.25 10.605L1.5 6.9525L6.6825 6.195L9 1.5Z\" fill=\"${fillColor}\"/>\n          </svg>`;\n        }).join('')}\n      </div>\n    `;\n  }\n\n  // Update details\n  const targetElement = document.getElementById('modal-target');\n  if (targetElement) targetElement.textContent = exercise.target || 'N/A';\n\n  const bodyPartElement = document.getElementById('modal-bodypart');\n  if (bodyPartElement) bodyPartElement.textContent = exercise.bodyPart || 'N/A';\n\n  const equipmentElement = document.getElementById('modal-equipment');\n  if (equipmentElement) equipmentElement.textContent = exercise.equipment || 'N/A';\n\n  const popularElement = document.getElementById('modal-popular');\n  if (popularElement) popularElement.textContent = exercise.popularity || '0';\n\n  const caloriesElement = document.getElementById('modal-calories');\n  if (caloriesElement) {\n    caloriesElement.textContent = `${exercise.burnedCalories || 0}/${exercise.time || 0} min`;\n  }\n\n  // Update description\n  const descriptionElement = document.getElementById('modal-description');\n  if (descriptionElement) {\n    descriptionElement.textContent = exercise.description || 'No description available.';\n  }\n\n  // Store exercise ID for later use (favorites, rating)\n  const modal = document.getElementById('exercise-modal');\n  if (modal) {\n    modal.dataset.exerciseId = exercise._id;\n  }\n};\n\n// Show rating modal\nexport const showRatingModal = () => {\n  closeModal('exercise-modal');\n  openModal('rating-modal');\n  resetRatingForm();\n  initRatingStars();\n};\n\n// Hide rating modal and reopen exercise modal\nexport const hideRatingModal = () => {\n  closeModal('rating-modal');\n  openModal('exercise-modal');\n  resetRatingForm();\n};\n\n// Reset rating form\nconst resetRatingForm = () => {\n  const stars = document.querySelectorAll('#rating-modal .rating-star');\n  const ratingValue = document.getElementById('rating-display-value');\n  const emailInput = document.getElementById('rating-email');\n  const reviewInput = document.getElementById('rating-review');\n\n  stars.forEach(star => star.classList.remove('active'));\n  if (ratingValue) ratingValue.textContent = '0.0';\n  if (emailInput) {\n    emailInput.value = '';\n    emailInput.classList.remove('error');\n  }\n  if (reviewInput) reviewInput.value = '';\n};\n\n// Initialize rating stars interaction using event delegation\nexport const initRatingStars = () => {\n  const starsContainer = document.getElementById('rating-stars');\n  const ratingValue = document.getElementById('rating-display-value');\n\n  if (!starsContainer) return;\n\n  // Check if already has listener to prevent duplicates\n  if (starsContainer.dataset.listenerAttached === 'true') return;\n  starsContainer.dataset.listenerAttached = 'true';\n\n  // Event delegation for click\n  starsContainer.addEventListener('click', (e) => {\n    const star = e.target.closest('.rating-star');\n    if (!star) return;\n\n    const selectedRating = parseFloat(star.dataset.rating);\n    const stars = starsContainer.querySelectorAll('.rating-star');\n    const index = Array.from(stars).indexOf(star);\n\n    // Update visual feedback\n    stars.forEach((s, i) => {\n      if (i <= index) {\n        s.classList.add('active');\n      } else {\n        s.classList.remove('active');\n      }\n    });\n\n    // Update rating value display\n    if (ratingValue) {\n      ratingValue.textContent = selectedRating.toFixed(1);\n    }\n  });\n\n  // Event delegation for hover\n  starsContainer.addEventListener('mouseover', (e) => {\n    const star = e.target.closest('.rating-star');\n    if (!star) return;\n\n    const stars = starsContainer.querySelectorAll('.rating-star');\n    const index = Array.from(stars).indexOf(star);\n\n    stars.forEach((s, i) => {\n      if (i <= index) {\n        s.classList.add('hover');\n      } else {\n        s.classList.remove('hover');\n      }\n    });\n  });\n\n  // Reset hover effect on mouse leave\n  starsContainer.addEventListener('mouseleave', () => {\n    const stars = starsContainer.querySelectorAll('.rating-star');\n    stars.forEach(star => star.classList.remove('hover'));\n  });\n};\n\n// Get current rating value\nexport const getCurrentRating = () => {\n  const ratingValue = document.getElementById('rating-display-value');\n  return ratingValue ? parseFloat(ratingValue.textContent) : 0;\n};\n\n// Validate email using pattern from specification\n// Imported from utils.js\n","import { getQuote } from './api.js';\r\nimport { renderQuote } from './dom.js';\r\n\r\nconst QUOTE_STORAGE_KEY = 'quote-of-the-day';\r\n\r\n/**\r\n * Get today's date in YYYY-MM-DD format\r\n */\r\nfunction getTodayDate() {\r\n  const today = new Date();\r\n  return today.toISOString().split('T')[0];\r\n}\r\n\r\n/**\r\n * Get cached quote from localStorage\r\n */\r\nfunction getCachedQuote() {\r\n  try {\r\n    const cached = localStorage.getItem(QUOTE_STORAGE_KEY);\r\n    if (!cached) return null;\r\n\r\n    const { quote, author, date } = JSON.parse(cached);\r\n    const today = getTodayDate();\r\n\r\n    if (date === today) {\r\n      return { quote, author };\r\n    }\r\n\r\n    localStorage.removeItem(QUOTE_STORAGE_KEY);\r\n    return null;\r\n  } catch (error) {\r\n    console.error('Error reading cached quote:', error);\r\n    return null;\r\n  }\r\n}\r\n\r\n/**\r\n * Save quote to localStorage\r\n */\r\nfunction cacheQuote(quote, author) {\r\n  try {\r\n    const data = {\r\n      quote,\r\n      author,\r\n      date: getTodayDate(),\r\n    };\r\n    localStorage.setItem(QUOTE_STORAGE_KEY, JSON.stringify(data));\r\n  } catch (error) {\r\n    console.error('Error caching quote:', error);\r\n  }\r\n}\r\n\r\n/**\r\n * Initialize Quote of the Day\r\n * Checks cache first, otherwise fetches from API\r\n */\r\nexport async function initQuote() {\r\n  try {\r\n    let quoteData = getCachedQuote();\r\n\r\n    if (!quoteData) {\r\n      quoteData = await getQuote();\r\n      cacheQuote(quoteData.quote, quoteData.author);\r\n    }\r\n\r\n    renderQuote(quoteData);\r\n  } catch (err) {\r\n    console.error('Failed to initialize quote:', err);\r\n  }\r\n}\r\n","const FAVORITES_KEY = 'favoriteExercises';\r\n\r\n// Get all favorites from localStorage\r\nexport function getFavorites() {\r\n  try {\r\n    const favorites = localStorage.getItem(FAVORITES_KEY);\r\n    return favorites ? JSON.parse(favorites) : [];\r\n  } catch (err) {\r\n    console.error('Failed to get favorites:', err);\r\n    return [];\r\n  }\r\n}\r\n\r\n// Add exercise to favorites\r\nexport function addFavorite(exercise) {\r\n  try {\r\n    const favorites = getFavorites();\r\n\r\n    // Check if already exists\r\n    if (favorites.some(fav => fav._id === exercise._id)) {\r\n      return false;\r\n    }\r\n\r\n    favorites.push(exercise);\r\n    localStorage.setItem(FAVORITES_KEY, JSON.stringify(favorites));\r\n    return true;\r\n  } catch (err) {\r\n    console.error('Failed to add favorite:', err);\r\n    return false;\r\n  }\r\n}\r\n\r\n// Remove exercise from favorites\r\nexport function removeFavorite(exerciseId) {\r\n  try {\r\n    const favorites = getFavorites();\r\n    const filtered = favorites.filter(fav => fav._id !== exerciseId);\r\n    localStorage.setItem(FAVORITES_KEY, JSON.stringify(filtered));\r\n    return true;\r\n  } catch (err) {\r\n    console.error('Failed to remove favorite:', err);\r\n    return false;\r\n  }\r\n}\r\n\r\n// Check if exercise is in favorites\r\nexport function isFavorite(exerciseId) {\r\n  const favorites = getFavorites();\r\n  return favorites.some(fav => fav._id === exerciseId);\r\n}\r\n\r\n// Toggle favorite status\r\nexport function toggleFavorite(exercise) {\r\n  if (isFavorite(exercise._id)) {\r\n    return removeFavorite(exercise._id);\r\n  } else {\r\n    return addFavorite(exercise);\r\n  }\r\n}\r\n\r\n// --- View / Initialization Logic (migrated from init-favorites.js) ---\r\n\r\nimport { getExerciseById, updateRating } from './api.js';\r\nimport { loadTemplate, replacePlaceholders } from './dom.js';\r\nimport {\r\n  openModal,\r\n  closeModal,\r\n  renderExerciseModal,\r\n  showRatingModal,\r\n  hideRatingModal,\r\n  getCurrentRating,\r\n} from './modal.js';\r\nimport { initQuote } from './quote.js';\r\n\r\n// Render empty state\r\nasync function renderEmptyState() {\r\n  const container = document.getElementById('favorites-container');\r\n  if (!container) return;\r\n\r\n  const template = await loadTemplate('favorites-empty');\r\n  container.innerHTML = template;\r\n}\r\n\r\n// Render favorites list\r\nasync function renderFavorites() {\r\n  const container = document.getElementById('favorites-container');\r\n  if (!container) return;\r\n\r\n  const favorites = getFavorites();\r\n\r\n  if (favorites.length === 0) {\r\n    await renderEmptyState();\r\n    return;\r\n  }\r\n\r\n  const cardTemplate = await loadTemplate('favorite-card');\r\n\r\n  const cardsHtml = favorites\r\n    .map(exercise => {\r\n      return replacePlaceholders(cardTemplate, {\r\n        id: exercise._id,\r\n        name: exercise.name,\r\n        burnedCalories: exercise.burnedCalories || 0,\r\n        bodyPart: exercise.bodyPart || 'N/A',\r\n        target: exercise.target || 'N/A',\r\n      });\r\n    })\r\n    .join('');\r\n\r\n  container.innerHTML = `<ul class=\"favorites-grid\">${cardsHtml}</ul>`;\r\n\r\n  // Event delegation is already set up in initFavoritesPage\r\n}\r\n\r\n// Setup exercise modal\r\nfunction setupExerciseModal(exerciseId) {\r\n  const closeBtn = document.getElementById('modal-close-btn');\r\n  if (closeBtn) {\r\n    closeBtn.onclick = () => closeModal('exercise-modal');\r\n  }\r\n\r\n  const giveRatingBtn = document.getElementById('give-rating-btn');\r\n  if (giveRatingBtn) {\r\n    giveRatingBtn.onclick = () => {\r\n      showRatingModal();\r\n      setupRatingModal(exerciseId);\r\n    };\r\n  }\r\n\r\n  const addToFavoritesBtn = document.getElementById('add-to-favorites-btn');\r\n  if (addToFavoritesBtn) {\r\n    addToFavoritesBtn.onclick = async () => {\r\n      if (isFavorite(exerciseId)) {\r\n        removeFavorite(exerciseId);\r\n        closeModal('exercise-modal');\r\n        await renderFavorites();\r\n      }\r\n    };\r\n\r\n    if (isFavorite(exerciseId)) {\r\n      addToFavoritesBtn.textContent = 'Remove from favorites';\r\n    }\r\n  }\r\n\r\n  const exerciseModal = document.getElementById('exercise-modal');\r\n  if (exerciseModal) {\r\n    exerciseModal.onclick = e => {\r\n      if (e.target === exerciseModal) closeModal('exercise-modal');\r\n    };\r\n  }\r\n\r\n  const handleEscape = e => {\r\n    if (e.key === 'Escape') {\r\n      closeModal('exercise-modal');\r\n      document.removeEventListener('keydown', handleEscape);\r\n    }\r\n  };\r\n  document.addEventListener('keydown', handleEscape);\r\n}\r\n\r\n// Setup rating modal\r\nfunction setupRatingModal(exerciseId) {\r\n  const closeBtn = document.getElementById('rating-modal-close-btn');\r\n  if (closeBtn) {\r\n    closeBtn.onclick = () => hideRatingModal();\r\n  }\r\n\r\n  const ratingForm = document.getElementById('rating-form');\r\n  if (ratingForm) {\r\n    ratingForm.onsubmit = async e => {\r\n      e.preventDefault();\r\n\r\n      const rating = getCurrentRating();\r\n      const emailInput = document.getElementById('rating-email');\r\n      const reviewInput = document.getElementById('rating-review');\r\n      const email = emailInput?.value.trim();\r\n      const review = reviewInput?.value.trim() || '';\r\n\r\n      if (rating <= 0) {\r\n        alert('Please select a rating');\r\n        return;\r\n      }\r\n\r\n      if (!email) {\r\n        alert('Please enter your email');\r\n        emailInput?.focus();\r\n        return;\r\n      }\r\n\r\n      try {\r\n        await updateRating(exerciseId, rating, email, review);\r\n        alert('Rating submitted successfully!');\r\n        hideRatingModal();\r\n      } catch (err) {\r\n        console.error('Failed to submit rating:', err);\r\n        if (err.message?.includes('409')) {\r\n          alert('This email has already been used to rate this exercise');\r\n        } else {\r\n          alert('Failed to submit rating. Please try again.');\r\n        }\r\n      }\r\n    };\r\n  }\r\n\r\n  const ratingModal = document.getElementById('rating-modal');\r\n  if (ratingModal) {\r\n    ratingModal.onclick = e => {\r\n      if (e.target === ratingModal) hideRatingModal();\r\n    };\r\n  }\r\n\r\n  const handleEscape = e => {\r\n    if (e.key === 'Escape') {\r\n      hideRatingModal();\r\n      document.removeEventListener('keydown', handleEscape);\r\n    }\r\n  };\r\n  document.addEventListener('keydown', handleEscape);\r\n}\r\n\r\n// Initialize favorites page\r\nexport async function initFavoritesPage() {\r\n  const favoritesPage = document.querySelector('.favorites-page');\r\n\r\n  try {\r\n    // Initialize Quote\r\n    await initQuote();\r\n\r\n    await renderFavorites();\r\n\r\n    // Setup event delegation for favorites\r\n    setupFavoritesEventDelegation();\r\n  } catch (err) {\r\n    console.error('Error initializing favorites page:', err);\r\n  } finally {\r\n    if (favoritesPage) favoritesPage.classList.add('loaded');\r\n  }\r\n}\r\n\r\n// Setup event delegation for favorites container\r\nfunction setupFavoritesEventDelegation() {\r\n  const container = document.getElementById('favorites-container');\r\n  if (!container) return;\r\n\r\n  // Check if already has listener to prevent duplicates\r\n  if (container.dataset.listenerAttached === 'true') return;\r\n  container.dataset.listenerAttached = 'true';\r\n\r\n  container.addEventListener('click', async (e) => {\r\n    // Handle delete button clicks\r\n    const deleteBtn = e.target.closest('.favorite-delete-btn');\r\n    if (deleteBtn) {\r\n      e.stopPropagation();\r\n      const exerciseId = deleteBtn.dataset.id;\r\n      if (exerciseId) {\r\n        removeFavorite(exerciseId);\r\n        try {\r\n          await renderFavorites();\r\n        } catch (err) {\r\n          console.error('Failed to render favorites:', err);\r\n        }\r\n      }\r\n      return;\r\n    }\r\n\r\n    // Handle start button clicks\r\n    const startBtn = e.target.closest('.favorite-start-btn');\r\n    if (startBtn) {\r\n      e.stopPropagation();\r\n      const exerciseId = startBtn.dataset.id;\r\n      if (!exerciseId) return;\r\n\r\n      try {\r\n        const exercise = await getExerciseById(exerciseId);\r\n        renderExerciseModal(exercise);\r\n        openModal('exercise-modal');\r\n        setupExerciseModal(exerciseId);\r\n      } catch (err) {\r\n        console.error('Failed to fetch exercise details:', err);\r\n        alert('Failed to load exercise details.');\r\n      }\r\n    }\r\n  });\r\n}\r\n","import {\r\n  getFilters,\r\n  getExercises,\r\n  getExerciseById,\r\n  updateRating,\r\n} from './api.js';\r\nimport {\r\n  renderCategories,\r\n  renderExercises,\r\n  renderSkeleton,\r\n} from './dom.js';\r\nimport {\r\n  renderPagination,\r\n  setupPagination as setupPaginationListeners,\r\n  scrollToTop,\r\n} from './pagination.js';\r\nimport {\r\n  openModal,\r\n  closeModal,\r\n  renderExerciseModal,\r\n  showRatingModal,\r\n  hideRatingModal,\r\n  getCurrentRating,\r\n} from './modal.js';\r\nimport { addFavorite, isFavorite } from './favorites.js';\r\nimport { initQuote } from './quote.js';\r\n\r\n// Email validation helper\r\nfunction validateEmail(email) {\r\n  const re = /^[^\\s@]+@[^\\s@]+\\.[^\\s@]+$/;\r\n  return re.test(email);\r\n}\r\n\r\n// State object\r\nconst appState = {\r\n  view: 'categories', // 'categories' or 'exercises'\r\n  filter: 'Muscles',  // Active tab\r\n  category: null,     // Selected category name\r\n  categoryFilter: null, // The filter type of the selected category (e.g. 'Muscles')\r\n  keyword: '',\r\n  page: 1\r\n};\r\n\r\n// Get items limit based on screen width\r\nconst getLimit = () => {\r\n  return window.innerWidth < 768 ? 9 : (appState.view === 'categories' ? 12 : 10);\r\n};\r\n\r\n// Initialize home page\r\nexport async function initHomePage() {\r\n  const mainContent = document.querySelector('.main-content');\r\n\r\n  // Render initial skeletons immediately\r\n  const initialLimit = getLimit();\r\n  renderSkeleton(appState.view, 'exercises-container', initialLimit);\r\n\r\n  try {\r\n    // 1. Initialize Quote\r\n    // Note: This is async and might fetch from API, so skeletal loading for exercises \r\n    // should already be visible by now.\r\n    await initQuote();\r\n\r\n    // 2. Initial Categories\r\n    await fetchAndRender();\r\n\r\n  } catch (err) {\r\n    console.error('Error initializing home page:', err);\r\n  } finally {\r\n    if (mainContent) {\r\n      mainContent.classList.add('loaded');\r\n    }\r\n  }\r\n\r\n  // Setup event listeners\r\n  setupFilterTabs();\r\n  setupExerciseCards();\r\n  setupPaginationListeners(handlePageChange);\r\n  setupResizeListener();\r\n\r\n  // Note: setupExerciseSearch is called dynamically when entering exercises view\r\n}\r\n\r\n// Setup window resize listener to update limit and re-fetch if needed\r\nfunction setupResizeListener() {\r\n  let timeoutId;\r\n  let currentLimit = getLimit();\r\n\r\n  window.addEventListener('resize', () => {\r\n    clearTimeout(timeoutId);\r\n    timeoutId = setTimeout(() => {\r\n      const newLimit = getLimit();\r\n      if (newLimit !== currentLimit) {\r\n        currentLimit = newLimit;\r\n        appState.page = 1; // Reset to first page when limit changes to avoid empty pages\r\n        fetchAndRender();\r\n      }\r\n    }, 300);\r\n  });\r\n}\r\n\r\n// Fetch and render based on current state\r\nasync function fetchAndRender() {\r\n  const container = document.getElementById('exercises-container');\r\n\r\n  try {\r\n    const limit = getLimit();\r\n    renderSkeleton(appState.view, 'exercises-container', limit);\r\n\r\n    if (appState.view === 'categories') {\r\n      // Fetch Categories\r\n      const filters = await getFilters({\r\n        filter: appState.filter,\r\n        page: appState.page,\r\n        limit\r\n      });\r\n      renderCategories(filters.results, 'exercises-container');\r\n      renderPagination(filters.page ? Number(filters.page) : 1, filters.totalPages || 1);\r\n    } else {\r\n      // Fetch Exercises\r\n      const params = {\r\n        limit,\r\n        page: appState.page\r\n      };\r\n\r\n      if (appState.categoryFilter === 'Muscles') params.muscles = appState.category.toLowerCase();\r\n      else if (appState.categoryFilter === 'Body parts') params.bodypart = appState.category.toLowerCase();\r\n      else if (appState.categoryFilter === 'Equipment') params.equipment = appState.category.toLowerCase();\r\n\r\n      if (appState.keyword) params.keyword = appState.keyword;\r\n\r\n      const exercises = await getExercises(params);\r\n      renderExercises(exercises.results, 'exercises-container');\r\n      renderPagination(exercises.page ? Number(exercises.page) : 1, exercises.totalPages || 1);\r\n    }\r\n  } catch (err) {\r\n    console.error('Fetch error:', err);\r\n    if (container) container.innerHTML = '<p class=\"error-message\">Failed to load data. Please try again.</p>';\r\n  }\r\n}\r\n\r\n// Handle page change from pagination\r\nfunction handlePageChange(newPage) {\r\n  if (newPage && newPage !== appState.page) {\r\n    appState.page = newPage;\r\n    fetchAndRender();\r\n    scrollToTop();\r\n  }\r\n}\r\n\r\n// Setup filter tabs\r\nfunction setupFilterTabs() {\r\n  const filterTabs = document.getElementById('filter-tabs');\r\n  if (!filterTabs) return;\r\n\r\n  // Check if already has listener to prevent duplicates\r\n  if (filterTabs.dataset.listenerAttached === 'true') return;\r\n  filterTabs.dataset.listenerAttached = 'true';\r\n\r\n  filterTabs.addEventListener('click', async e => {\r\n    const btn = e.target.closest('.filter-tab');\r\n    if (!btn) return;\r\n\r\n    document.querySelectorAll('.filter-tab').forEach(t => t.classList.remove('active'));\r\n    btn.classList.add('active');\r\n\r\n    // Update state\r\n    appState.filter = btn.dataset.filter;\r\n    appState.view = 'categories';\r\n    appState.page = 1;\r\n    appState.keyword = '';\r\n    appState.category = null;\r\n\r\n    hideExercisesHeader();\r\n\r\n    try {\r\n      await fetchAndRender();\r\n    } catch (err) {\r\n      console.error('Failed to fetch data:', err);\r\n    }\r\n  });\r\n}\r\n\r\n// Setup exercise cards (and category clicks)\r\nfunction setupExerciseCards() {\r\n  const exercisesContainer = document.getElementById('exercises-container');\r\n  if (!exercisesContainer) return;\r\n\r\n  // Check if already has listener to prevent duplicates\r\n  if (exercisesContainer.dataset.listenerAttached === 'true') return;\r\n  exercisesContainer.dataset.listenerAttached = 'true';\r\n\r\n  exercisesContainer.addEventListener('click', async e => {\r\n    // Handle category card clicks\r\n    const categoryCard = e.target.closest('.category-card');\r\n    if (categoryCard) {\r\n      const categoryName = categoryCard.dataset.name;\r\n      const categoryFilter = categoryCard.dataset.filter;\r\n\r\n      if (!categoryName) return;\r\n\r\n      // Update state\r\n      appState.view = 'exercises';\r\n      appState.category = categoryName;\r\n      appState.categoryFilter = categoryFilter; // Use the filter from the card!\r\n      appState.page = 1;\r\n      appState.keyword = '';\r\n\r\n      showExercisesHeader(categoryName);\r\n      setupExerciseSearch(); // Re-init search\r\n\r\n      try {\r\n        await fetchAndRender();\r\n      } catch (err) {\r\n        console.error('Failed to fetch exercises:', err);\r\n      }\r\n      return;\r\n    }\r\n\r\n    // Handle Start button clicks\r\n    const startBtn = e.target.closest('.exercise-start-btn');\r\n    if (startBtn) {\r\n      const exerciseId = startBtn.dataset.id;\r\n      if (!exerciseId) return;\r\n\r\n      try {\r\n        const exercise = await getExerciseById(exerciseId);\r\n        renderExerciseModal(exercise);\r\n        openModal('exercise-modal');\r\n        setupExerciseModal(exerciseId);\r\n      } catch (err) {\r\n        console.error(`Failed to fetch exercise details for ${exerciseId}:`, err);\r\n        alert('Failed to load exercise details. Please try again.');\r\n      }\r\n    }\r\n  });\r\n}\r\n\r\n\r\n// Show exercises header with breadcrumb\r\nfunction showExercisesHeader(categoryName) {\r\n  const sectionTitle = document.getElementById('section-title');\r\n  const searchForm = document.getElementById('exercise-search-form');\r\n  \r\n  if (sectionTitle) {\r\n    sectionTitle.innerHTML = `Exercises / <span class=\"category-name\">${categoryName}</span>`;\r\n  }\r\n  \r\n  if (searchForm) {\r\n    searchForm.classList.remove('hidden');\r\n  }\r\n}\r\n\r\n// Hide exercises header\r\nfunction hideExercisesHeader() {\r\n  const sectionTitle = document.getElementById('section-title');\r\n  const searchForm = document.getElementById('exercise-search-form');\r\n  const searchInput = document.getElementById('exercise-search-input');\r\n  const clearBtn = document.getElementById('exercise-clear-btn');\r\n  \r\n  if (sectionTitle) {\r\n    sectionTitle.textContent = 'Exercises';\r\n  }\r\n  \r\n  if (searchForm) {\r\n    searchForm.classList.add('hidden');\r\n  }\r\n  \r\n  // Clear search input and hide clear button\r\n  if (searchInput) {\r\n    searchInput.value = '';\r\n  }\r\n  \r\n  if (clearBtn) {\r\n    clearBtn.classList.add('hidden');\r\n  }\r\n}\r\n\r\n// Setup exercise search\r\nfunction setupExerciseSearch() {\r\n  const searchForm = document.getElementById('exercise-search-form');\r\n  const searchInput = document.getElementById('exercise-search-input');\r\n  const clearBtn = document.getElementById('exercise-clear-btn');\r\n\r\n  if (!searchForm || !searchInput) return;\r\n\r\n  // Check if already has listener to prevent duplicates\r\n  if (searchForm.dataset.listenerAttached === 'true') return;\r\n  searchForm.dataset.listenerAttached = 'true';\r\n\r\n  // Show/hide clear button based on input\r\n  searchInput.addEventListener('input', () => {\r\n    if (searchInput.value.trim()) {\r\n      clearBtn.classList.remove('hidden');\r\n    } else {\r\n      clearBtn.classList.add('hidden');\r\n    }\r\n  });\r\n\r\n  // Clear button click\r\n  clearBtn.addEventListener('click', async () => {\r\n    searchInput.value = '';\r\n    clearBtn.classList.add('hidden');\r\n    searchInput.focus();\r\n\r\n    // Update state and re-fetch\r\n    appState.keyword = '';\r\n    appState.page = 1;\r\n\r\n    try {\r\n      await fetchAndRender();\r\n    } catch (err) {\r\n      console.error('Failed to fetch exercises:', err);\r\n    }\r\n  });\r\n\r\n  // Search form submit\r\n  searchForm.addEventListener('submit', async e => {\r\n    e.preventDefault();\r\n\r\n    const keyword = searchInput.value.trim();\r\n\r\n    // Update state and re-fetch\r\n    appState.keyword = keyword;\r\n    appState.page = 1;\r\n\r\n    try {\r\n      await fetchAndRender();\r\n    } catch (err) {\r\n      console.error('Failed to search exercises:', err);\r\n    }\r\n  });\r\n}\r\n\r\n// Setup exercise modal\r\nfunction setupExerciseModal(exerciseId) {\r\n  const closeBtn = document.getElementById('modal-close-btn');\r\n  if (closeBtn) {\r\n    closeBtn.onclick = () => closeModal('exercise-modal');\r\n  }\r\n\r\n  const giveRatingBtn = document.getElementById('give-rating-btn');\r\n  if (giveRatingBtn) {\r\n    giveRatingBtn.onclick = () => {\r\n      showRatingModal();\r\n      setupRatingModal(exerciseId);\r\n    };\r\n  }\r\n\r\n  const addToFavoritesBtn = document.getElementById('add-to-favorites-btn');\r\n  if (addToFavoritesBtn) {\r\n    addToFavoritesBtn.onclick = async () => {\r\n      if (isFavorite(exerciseId)) {\r\n        alert('This exercise is already in your favorites');\r\n      } else {\r\n        const exercise = await getExerciseById(exerciseId);\r\n        addFavorite(exercise);\r\n        addToFavoritesBtn.innerHTML = `\r\n          Added to favorites\r\n          <svg width=\"20\" height=\"20\" viewBox=\"0 0 20 20\" fill=\"none\">\r\n            <path d=\"M10 3.5C10 3.5 6.5 1 3.5 3.5C0.5 6 2 10 10 16.5C18 10 19.5 6 16.5 3.5C13.5 1 10 3.5 10 3.5Z\" fill=\"#242424\" stroke=\"#242424\" stroke-width=\"1.5\"/>\r\n          </svg>\r\n        `;\r\n        setTimeout(() => {\r\n          addToFavoritesBtn.textContent = 'Add to favorites';\r\n        }, 2000);\r\n      }\r\n    };\r\n\r\n    if (isFavorite(exerciseId)) {\r\n      addToFavoritesBtn.textContent = 'Already in favorites';\r\n      addToFavoritesBtn.disabled = true;\r\n      addToFavoritesBtn.style.opacity = '0.6';\r\n    }\r\n  }\r\n\r\n  const exerciseModal = document.getElementById('exercise-modal');\r\n  if (exerciseModal) {\r\n    exerciseModal.onclick = e => {\r\n      if (e.target === exerciseModal) closeModal('exercise-modal');\r\n    };\r\n  }\r\n\r\n  const handleEscape = e => {\r\n    if (e.key === 'Escape') {\r\n      closeModal('exercise-modal');\r\n      document.removeEventListener('keydown', handleEscape);\r\n    }\r\n  };\r\n  document.addEventListener('keydown', handleEscape);\r\n}\r\n\r\n// Setup rating modal\r\nfunction setupRatingModal(exerciseId) {\r\n  const closeBtn = document.getElementById('rating-modal-close-btn');\r\n  if (closeBtn) {\r\n    closeBtn.onclick = () => hideRatingModal();\r\n  }\r\n\r\n  const ratingForm = document.getElementById('rating-form');\r\n  if (ratingForm) {\r\n    ratingForm.onsubmit = async e => {\r\n      e.preventDefault();\r\n\r\n      const rating = getCurrentRating();\r\n      const emailInput = document.getElementById('rating-email');\r\n      const reviewInput = document.getElementById('rating-review');\r\n      const email = emailInput?.value.trim();\r\n      const review = reviewInput?.value.trim() || '';\r\n\r\n      if (rating <= 0) {\r\n        alert('Please select a rating');\r\n        return;\r\n      }\r\n\r\n      if (!email) {\r\n        alert('Please enter your email');\r\n        emailInput?.focus();\r\n        return;\r\n      }\r\n\r\n      if (!validateEmail(email)) {\r\n        alert('Please enter a valid email address');\r\n        emailInput?.classList.add('error');\r\n        emailInput?.focus();\r\n        return;\r\n      }\r\n\r\n      emailInput?.classList.remove('error');\r\n\r\n      try {\r\n        await updateRating(exerciseId, rating, email, review);\r\n        alert('Rating submitted successfully!');\r\n        hideRatingModal();\r\n\r\n        const exercise = await getExerciseById(exerciseId);\r\n        renderExerciseModal(exercise);\r\n      } catch (err) {\r\n        console.error('Failed to submit rating:', err);\r\n        if (err.message?.includes('409')) {\r\n          alert('This email has already been used to rate this exercise');\r\n        } else {\r\n          alert('Failed to submit rating. Please try again.');\r\n        }\r\n      }\r\n    };\r\n  }\r\n\r\n  const ratingModal = document.getElementById('rating-modal');\r\n  if (ratingModal) {\r\n    ratingModal.onclick = e => {\r\n      if (e.target === ratingModal) hideRatingModal();\r\n    };\r\n  }\r\n\r\n  const handleEscape = e => {\r\n    if (e.key === 'Escape') {\r\n      hideRatingModal();\r\n      document.removeEventListener('keydown', handleEscape);\r\n    }\r\n  };\r\n  document.addEventListener('keydown', handleEscape);\r\n}\r\n","import { router } from './router.js';\n\n// Set active navigation based on current route\nexport function setActiveNav(route) {\n  const navHome = document.getElementById('nav-home');\n  const navFavorites = document.getElementById('nav-favorites');\n\n  if (!navHome || !navFavorites) return;\n\n  // Remove all active classes\n  navHome.classList.remove('active');\n  navFavorites.classList.remove('active');\n\n  // Add active class based on current route\n  if (route === '/favorites') {\n    navFavorites.classList.add('active');\n  } else {\n    navHome.classList.add('active');\n  }\n}\n\n// Setup navigation click handlers for SPA routing using event delegation\nfunction setupNavigation() {\n  // Desktop navigation\n  const nav = document.querySelector('.nav');\n  if (nav) {\n    nav.addEventListener('click', e => {\n      const link = e.target.closest('.nav-link');\n      if (!link) return;\n\n      e.preventDefault();\n      const route = link.dataset.route;\n      if (route) {\n        router.navigate(route);\n        setActiveNav(route);\n      }\n    });\n  }\n\n  // Mobile navigation\n  const mobileNav = document.querySelector('.mobile-nav');\n  if (mobileNav) {\n    mobileNav.addEventListener('click', e => {\n      const link = e.target.closest('.mobile-nav-link');\n      if (!link) return;\n\n      e.preventDefault();\n      const route = link.dataset.route;\n      if (route) {\n        router.navigate(route);\n        setActiveNav(route);\n        closeMobileMenu();\n      }\n    });\n  }\n}\n\n// Burger menu functionality\nfunction setupBurgerMenu() {\n  const burgerBtn = document.getElementById('burger-btn');\n  const mobileMenu = document.getElementById('mobile-menu');\n  const mobileCloseBtn = document.getElementById('mobile-close-btn');\n\n  if (!burgerBtn || !mobileMenu || !mobileCloseBtn) return;\n\n  burgerBtn.addEventListener('click', openMobileMenu);\n  mobileCloseBtn.addEventListener('click', closeMobileMenu);\n\n  // Close on backdrop click\n  mobileMenu.addEventListener('click', e => {\n    if (e.target === mobileMenu) {\n      closeMobileMenu();\n    }\n  });\n\n  // Close on Escape key\n  document.addEventListener('keydown', e => {\n    if (e.key === 'Escape' && mobileMenu.classList.contains('is-open')) {\n      closeMobileMenu();\n    }\n  });\n}\n\nfunction openMobileMenu() {\n  const mobileMenu = document.getElementById('mobile-menu');\n  const burgerBtn = document.getElementById('burger-btn');\n  \n  if (mobileMenu) {\n    mobileMenu.classList.add('is-open');\n    document.body.style.overflow = 'hidden';\n  }\n  \n  if (burgerBtn) {\n    burgerBtn.setAttribute('aria-expanded', 'true');\n  }\n}\n\nfunction closeMobileMenu() {\n  const mobileMenu = document.getElementById('mobile-menu');\n  const burgerBtn = document.getElementById('burger-btn');\n  \n  if (mobileMenu) {\n    mobileMenu.classList.remove('is-open');\n    document.body.style.overflow = '';\n  }\n  \n  if (burgerBtn) {\n    burgerBtn.setAttribute('aria-expanded', 'false');\n  }\n}\n\n// Initialize navigation\ndocument.addEventListener('DOMContentLoaded', () => {\n  setupNavigation();\n  setupBurgerMenu();\n});\n","import { router, loadView } from './js/router.js';\nimport { initHomePage } from './js/home.js';\nimport { initFavoritesPage } from './js/favorites.js';\nimport { subscribe } from './js/api.js';\nimport { setActiveNav } from './js/nav.js';\nimport './js/nav.js';\n\n// Define routes\nrouter\n  .on('/', async () => {\n    await loadView('home');\n    await initHomePage();\n    setupSubscription();\n    setActiveNav('/');\n  })\n  .on('/favorites', async () => {\n    await loadView('favorites');\n    await initFavoritesPage();\n    setupSubscription();\n    setActiveNav('/favorites');\n  })\n  .notFound(async () => {\n    await loadView('home');\n    await initHomePage();\n    setupSubscription();\n    setActiveNav('/');\n  });\n\n// Setup subscription form (available on all pages)\nfunction setupSubscription() {\n  const subForm = document.getElementById('subscription-form');\n  if (subForm) {\n    subForm.addEventListener('submit', async e => {\n      e.preventDefault();\n      const email = subForm.email.value;\n      try {\n        await subscribe(email);\n        alert('Successfully subscribed!');\n        subForm.reset();\n      } catch (err) {\n        alert('Subscription failed. Please check your email or try again later.');\n      }\n    });\n  }\n}\n\n// Initialize router when DOM is ready\ndocument.addEventListener('DOMContentLoaded', () => {\n  router.resolve();\n});\n"],"names":["homePageHtml","favoritesPageHtml","heroHtml","filtersHtml","quoteHtml","sidebarImageHtml","infoCardHtml","router","Navigo","routes","partials","processLoadTags","html","loadRegex","match","src","loadView","viewName","app","processedHtml","BASE_URL","api","axios","getQuote","data","getFilters","filter","page","limit","getExercises","bodypart","muscles","equipment","keyword","params","getExerciseById","id","updateRating","rating","email","review","body","subscribe","exerciseCardTemplate","categoryCardTemplate","favoriteCardTemplate","favoritesEmptyTemplate","paginationTemplate","templates","templateCache","loadTemplate","templateName","replacePlaceholders","template","_match","key","renderQuote","quoteData","quoteText","quoteAuthor","renderExercises","exercises","containerId","container","exercisesHtml","exercise","renderCategories","categories","categoriesHtml","cat","renderSkeleton","view","count","skeletonHtml","renderPagination","currentPage","totalPages","firstBtn","prevBtn","nextBtn","lastBtn","pagesContainer","pagesHtml","generatePageNumbers","pages","i","start","end","setupPagination","onPageChange","e","btn","newPage","scrollToTop","targetId","target","openModal","modalId","modal","closeModal","renderExerciseModal","gifElement","titleElement","ratingElement","fullStars","_","filled","targetElement","bodyPartElement","equipmentElement","popularElement","caloriesElement","descriptionElement","showRatingModal","resetRatingForm","initRatingStars","hideRatingModal","stars","ratingValue","emailInput","reviewInput","star","starsContainer","selectedRating","index","s","getCurrentRating","QUOTE_STORAGE_KEY","getTodayDate","getCachedQuote","cached","quote","author","date","today","error","cacheQuote","initQuote","err","FAVORITES_KEY","getFavorites","favorites","addFavorite","fav","removeFavorite","exerciseId","filtered","isFavorite","renderEmptyState","renderFavorites","cardTemplate","cardsHtml","setupExerciseModal","closeBtn","giveRatingBtn","setupRatingModal","addToFavoritesBtn","exerciseModal","handleEscape","ratingForm","ratingModal","initFavoritesPage","favoritesPage","setupFavoritesEventDelegation","deleteBtn","startBtn","validateEmail","appState","getLimit","initHomePage","mainContent","initialLimit","fetchAndRender","setupFilterTabs","setupExerciseCards","setupPaginationListeners","handlePageChange","setupResizeListener","timeoutId","currentLimit","newLimit","filters","filterTabs","t","hideExercisesHeader","exercisesContainer","categoryCard","categoryName","categoryFilter","showExercisesHeader","setupExerciseSearch","sectionTitle","searchForm","searchInput","clearBtn","setActiveNav","route","navHome","navFavorites","setupNavigation","nav","link","mobileNav","closeMobileMenu","setupBurgerMenu","burgerBtn","mobileMenu","mobileCloseBtn","openMobileMenu","setupSubscription","subForm"],"mappings":"6vBAAA,MAAAA,EAAe;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,ECAfC,EAAe;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,ECAfC,EAAe;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;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"}